import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# LED Control

The blade has two digital LEDs mounted in series. A square yellow LED is located on the top of the board, and a green LED is located on edge.
The LEDs can be controled via a `GPIO18` and a transistor. It is possible to change the brightness using software PWM. 
:::info
You'll need to install the [Adafruit_Blinka](https://learn.adafruit.com/circuitpython-on-raspberrypi-linux/installing-circuitpython-on-raspberry-pi) and the [NeoPixel]() library
:::
:::warning
When using PWM to adjust brightness it is posible to experience unintended behavior
:::
<Tabs groupId='code-lang'>
    <TabItem value="python" label="Python" default>

    ```py
    import RPi.GPIO as GPIO
    import time

    POE_INDICATOR_GPIO = 23

    GPIO.setmode(GPIO.BCM)
    GPIO.setup(POE_INDICATOR_GPIO, GPIO.IN, pull_up_down=GPIO.PUD_UP) # PoE indicator

    try:
        button_state = GPIO.input(POE_INDICATOR_GPIO)
        if button_state == False:
            print("Powersource: 802.3at or 802.3bt")
        else:
            print("Powersource: 802.3af or USB-C")
    except:
        GPIO.cleanup()
    ```
    </TabItem>
    <TabItem value="c" label="C" >
    ```c
    #include <stdio.h>
    #include <wiringPi.h>

    // Define the GPIO pin number for the PoE indicator
    #define POE_INDICATOR_GPIO 23

    int main(void) {
        // Initialize the wiringPi library
        if (wiringPiSetupGpio() == -1) {
            printf("wiringPi setup failed\n");
            return 1;
        }

        // Set the GPIO pin mode to input
        pinMode(POE_INDICATOR_GPIO, INPUT);

        // Read the state of the GPIO pin
        int poeIndicatorState = digitalRead(POE_INDICATOR_GPIO);

        // Check if the pin is active (assuming active-high logic)
        if (poeIndicatorState == HIGH) {
            printf("Powersource: 802.3af or USB-C\n");
        } else {
            printf("Powersource: 802.3at\n");
        }

        return 0;
    }
    ```
    </TabItem>
</Tabs>